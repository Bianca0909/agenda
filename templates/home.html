{% extends "base.html" %}

{% block title %}
    Agenda - Início
{% endblock %}

{% block content %}
    <div class="container conteudo-principal">
        <div class="secao-boas-vindas">
            <h1 class="titulo-boas-vindas">
                <i class="bi bi-journal-text"></i> Bem-vindo à sua Agenda
            </h1>
            <p class="texto-recurso">Gerencie seus contatos e mensagens de forma simples e organizada</p>
        </div>
        
        <div class="row">
            <div class="col-md-4">
                <div class="card-recurso text-center h-100 card-flex">
                    <div class="card-flex-content">
                        <div>
                            <i class="bi bi-person-plus-fill icone-recurso mb-3"></i>
                            <h3 class="titulo-recurso">Contatos</h3>
                            <p class="texto-recurso">Adicione um novo contato</p>
                        </div>
                        <div class="mt-auto">
                            <a href="{{ url_for('adicionar_contato') }}" class="btn mt-3 btn-contatos">
                                <i class="bi bi-people-fill"></i> Adicionar contato
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card-recurso text-center h-100 card-flex">
                    <div class="card-flex-content">
                        <div>
                            <i class="bi bi-chat-dots-fill icone-recurso mb-3"></i>
                            <h3 class="titulo-recurso">Conversas</h3>
                            <p class="texto-recurso">Acesse suas conversas com contatos</p>
                        </div>
                        <div class="mt-auto">
                            <a href="{{ url_for('listar_contatos') }}" class="btn mt-3 btn-conversas">
                                <i class="bi bi-chat-dots-fill"></i> Ver Conversas
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card-recurso text-center h-100 card-flex">
                    <div class="card-flex-content">
                        <div>
                            <i class="bi bi-star-fill icone-recurso mb-3"></i>
                            <h3 class="titulo-recurso">Nos Avalie</h3>
                            <p class="texto-recurso">Sua opinião é importante para nós</p>
                        </div>
                        <div class="mt-auto">
                            <div class="rating mt-3">
                                <i class="bi bi-star" data-rating="1"></i>
                                <i class="bi bi-star" data-rating="2"></i>
                                <i class="bi bi-star" data-rating="3"></i>
                                <i class="bi bi-star" data-rating="4"></i>
                                <i class="bi bi-star" data-rating="5"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_css %}
<style>
  
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const stars = document.querySelectorAll('.rating i');
        let currentRating = 0;

        function updateStars(rating, hover = false) {
            stars.forEach(star => {
                const starRating = parseInt(star.getAttribute('data-rating'));
                if (starRating <= rating) {
                    star.classList.remove('bi-star');
                    star.classList.add('bi-star-fill');
                    if (!hover) star.classList.add('active');
                } else {
                    star.classList.remove('bi-star-fill');
                    star.classList.add('bi-star');
                    if (!hover) star.classList.remove('active');
                }
            });
        }

        stars.forEach(star => {
            star.addEventListener('click', function() {
                currentRating = parseInt(this.getAttribute('data-rating'));
                updateStars(currentRating);
            });

            star.addEventListener('mouseover', function() {
                const rating = parseInt(this.getAttribute('data-rating'));
                updateStars(rating, true);
            });

            star.addEventListener('mouseout', function() {
                updateStars(currentRating);
            });
        });
    });
</script>
{% endblock %}